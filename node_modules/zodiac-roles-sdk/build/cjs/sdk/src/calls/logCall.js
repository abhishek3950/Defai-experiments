"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.logCall = void 0;
const zodiac_roles_deployments_1 = require("zodiac-roles-deployments");
const conditions_1 = require("../conditions");
const logCall = (call, log = console.log) => {
    switch (call.call) {
        case "allowTarget": {
            const { targetAddress, executionOptions } = call;
            log(`✅ Allow ${ExecutionOptionLabel[executionOptions]} to any function of ${targetAddress}`);
            break;
        }
        case "scopeTarget": {
            const { targetAddress } = call;
            log(`✅ Allow calling selected functions of ${targetAddress}`);
            break;
        }
        case "revokeTarget": {
            const { targetAddress } = call;
            log(`⛔ Revoke permissions to call any function of ${targetAddress}`);
            break;
        }
        case "allowFunction": {
            const { targetAddress, selector, executionOptions } = call;
            log(`✅ Allow ${ExecutionOptionLabel[executionOptions]} to ${targetAddress}.${selector}`);
            break;
        }
        case "scopeFunction": {
            const { targetAddress, selector, executionOptions, condition } = call;
            const cid = (0, conditions_1.conditionAddress)(condition);
            log(`✅ Allow ${ExecutionOptionLabel[executionOptions]} to ${targetAddress}.${selector} under condition ${cid}`);
            break;
        }
        case "revokeFunction": {
            const { targetAddress, selector } = call;
            log(`⛔ Revoke permissions to call ${targetAddress}.${selector}`);
            break;
        }
    }
};
exports.logCall = logCall;
const ExecutionOptionLabel = {
    [zodiac_roles_deployments_1.ExecutionOptions.None]: "call",
    [zodiac_roles_deployments_1.ExecutionOptions.DelegateCall]: "call, delegatecall",
    [zodiac_roles_deployments_1.ExecutionOptions.Send]: "call, send",
    [zodiac_roles_deployments_1.ExecutionOptions.Both]: "call, delegatecall, send",
};
